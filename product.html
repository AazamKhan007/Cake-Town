<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products - Cake Town</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="header">
        <a href="home.html" class="logo"> <i class="fas fa-shopping-basket"></i> cake town </a>

        <nav class="navbar">
            <a href="home.html#home">Home</a>
            <a href="home.html#shop">Shop</a>
            <a href="home.html#about">About</a>
            <a href="home.html#review">Review</a>
            <a href="product.html" class="active">Product</a> <a href="home.html#contact">Contact</a>
        </nav>

        <div class="icons">
            <div id="menu-btn" class="fas fa-bars"></div>
            <div id="search-btn" class="fas fa-search"></div>
            <div id="cart-btn" class="fas fa-shopping-cart"></div>
            
            <div id="login-btn" class="fas fa-user"></div>

            <div id="loggedInUserPanel" class="user-panel">
                <div class="user-panel-header">
                    <i class="fas fa-user-circle user-panel-icon"></i>
                    <h3 id="userDisplayName">Welcome, User!</h3>
                </div>
                <p class="user-panel-text" id="userEmailDisplay">Email: N/A</p>
                <p class="user-panel-text" id="userIdDisplay">User ID: N/A</p>
                <button id="logoutBtn" class="user-panel-logout-btn">Logout</button>
            </div>
        </div>

        <form action="" class="search-form">
            <input type="search" placeholder="search here..." id="search-box">
            <label for="search-box" class="fas fa-search"></label>
        </form>

        <div class="shopping-cart">
            <div class="box">
                <i class="fas fa-trash"></i>
                <img src="assets/pt8.jpg" alt="">
                <div class="content">
                    <h3>Chocolate Mousse</h3>
                    <span class="price">₹1125/-</span>
                    <span class="quantity">qty : 1</span>
                </div>
            </div>
            <div class="box">
                <i class="fas fa-trash"></i>
                <img src="assets/pt4.jpg" alt="">
                <div class="content">
                    <h3>Lemon Meringue Pie</h3>
                    <span class="price">₹1375/-</span>
                    <span class="quantity">qty : 1</span>
                </div>
            </div>
            <div class="total"> Total : ₹2500/- </div>
            <a href="#" class="btn">checkout</a>
        </div>
    </header>

    <div class="space"></div>

    <section class="products-full-page" id="product-grid-section">
        <div class="heading"> <h1>Our full product range</h1> </div>
        <div class="box-container products-grid">
            <div class="box">
                <div class="img">
                    <img src="assets/pt1.jpg" alt="Chocolate Fudge Cake">
                </div>
                <div class="content">
                    <h3>Chocolate Fudge Cake</h3>
                    <div class="price">₹590</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>

            <div class="box">
                <div class="img">
                    <img src="assets/pt2.jpg" alt="Strawberry Delight">
                </div>
                <div class="content">
                    <h3>Strawberry Delight</h3>
                    <div class="price">₹450</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>

            <div class="box">
                <div class="img">
                    <img src="assets/pt3.jpg" alt="Red Velvet Classic">
                </div>
                <div class="content">
                    <h3>Red Velvet Classic</h3>
                    <div class="price">₹820</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>

            <div class="box">
                <div class="img">
                    <img src="assets/pt4.jpg" alt="Lemon Meringue Pie">
                </div>
                <div class="content">
                    <h3>Lemon Meringue Pie</h3>
                    <div class="price">₹1375</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>

            <div class="box">
                <div class="img">
                    <img src="assets/pt5.jpg" alt="Blueberry Cheesecake">
                </div>
                <div class="content">
                    <h3>Blueberry Cheesecake</h3>
                    <div class="price">₹980</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>
            
            <div class="box">
                <div class="img">
                    <img src="assets/pt6.jpg" alt="Classic Vanilla Cake">
                </div>
                <div class="content">
                    <h3>Classic Vanilla Cake</h3>
                    <div class="price">₹480</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="far fa-star"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>

            <div class="box">
                <div class="img">
                    <img src="assets/pt7.jpg" alt="Carrot Walnut Cake">
                </div>
                <div class="content">
                    <h3>Carrot Walnut Cake</h3>
                    <div class="price">₹750</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>

            <div class="box">
                <div class="img">
                    <img src="assets/pt8.jpg" alt="Dark Chocolate Mousse">
                </div>
                <div class="content">
                    <h3>Dark Chocolate Mousse</h3>
                    <div class="price">₹1125</div>
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <a href="#" class="btn add-to-cart-btn">add to cart</a>
                </div>
            </div>
        </div>
    </section>

    <section class="footer">
        <div class="box-container">
            <div class="box">
                <h3>quick links</h3>
                <a href="home.html#home"> <i class="fas fa-arrow-right"></i> home</a>
                <a href="home.html#shop"> <i class="fas fa-arrow-right"></i> shop</a>
                <a href="home.html#about"> <i class="fas fa-arrow-right"></i> about</a>
                <a href="home.html#review"> <i class="fas fa-arrow-right"></i> review</a>
                <a href="product.html"> <i class="fas fa-arrow-right"></i> product</a>
                <a href="home.html#contact"> <i class="fas fa-arrow-right"></i> contact</a>
            </div>

            <div class="box">
                <h3>extra links</h3>
                <a href="#"> <i class="fas fa-arrow-right"></i> my order </a>
                <a href="#"> <i class="fas fa-arrow-right"></i> my favorite </a>
                <a href="#"> <i class="fas fa-arrow-right"></i> my wishlist </a>
                <a href="#"> <i class="fas fa-arrow-right"></i> my account </a>
                <a href="#"> <i class="fas fa-arrow-right"></i> terms or use </a>
            </div>

            <div class="box">
                <h3>follow us</h3>
                <a href="#"> <i class="fab fa-facebook-f"></i> facebook </a>
                <a href="#"> <i class="fab fa-twitter"></i> twitter </a>
                <a href="#"> <i class="fab fa-instagram"></i> instagram </a>
                <a href="#"> <i class="fab fa-linkedin"></i> linkedin </a>
                <a href="#"> <i class="fab fa-pinterest"></i> pinterest </a>
            </div>

            <div class="box">
                <h3>newsletter</h3>
                <p>subscribe for latest update</p>
                <form action="">
                <input type="email" placeholder="enter your email address">
                <input type="submit" value="subscribe" class="btn">
                </form>
                <img decoding="async" src="assets/payment.png" class="payments" alt="Payment Methods" onerror="this.onerror=null;this.src='https://placehold.co/300x50/db8b82/ffffff?text=Payment+Methods';">
            </div>
        </div>
    </section>

    <div class="credit"> created by <span>Cake Town Team</span> | all rights reserved! </div>

    <div id="share-popup" class="share-popup">
        <div class="share-content">
            <h3>Share this Product!</h3>
            <div class="share-icons">
                <a id="share-whatsapp" href="#" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                <a id="share-instagram" href="#" target="_blank"><i class="fab fa-instagram"></i> Instagram</a>
                <a id="share-facebook" href="#" target="_blank"><i class="fab fa-facebook-f"></i> Facebook</a>
                <a id="share-twitter" href="#" target="_blank"><i class="fab fa-twitter"></i> Twitter</a>
                <a id="share-telegram" href="#" target="_blank"><i class="fab fa-telegram-plane"></i> Telegram</a>
            </div>
            <button class="close-popup"><i class="fas fa-times"></i></button>
        </div>
    </div>

    <div id="image-modal" class="image-modal">
        <img id="modal-image" src="" alt="Enlarged Image">
        <span class="close-modal"><i class="fas fa-times"></i></span>
    </div>

    <audio id="like-sound" src="https://www.soundjay.com/buttons/beep-07.mp3" preload="auto"></audio>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script type="module" src="auth.js"></script>
        <script>
            let navbar = document.querySelector('.navbar');
const menuBtn = document.querySelector('#menu-btn');

if (menuBtn) {
    menuBtn.onclick = () => {
        if (navbar) navbar.classList.toggle('active');
    }
}

window.onscroll = () => {
    if (navbar) navbar.classList.remove('active');
    // Also remove other active classes on scroll if they are open
    const searchForm = document.querySelector('.search-form');
    const shoppingCart = document.querySelector('.shopping-cart');
    // REMOVED: const loginForm = document.querySelector('.login-form:not(#loggedInUserPanel)');
    // We don't want main.js to interact with any loginForm toggle
    if (searchForm) searchForm.classList.remove('active');
    if (shoppingCart) shoppingCart.classList.remove('active');
    // REMOVED: if (loginForm) loginForm.classList.remove('active');
}

let searchForm = document.querySelector('.search-form');
const searchBtn = document.querySelector('#search-btn');

if (searchBtn) {
    searchBtn.onclick = () => {
        if (searchForm) searchForm.classList.toggle('active');
        // Close other elements
        const shoppingCart = document.querySelector('.shopping-cart');
        // REMOVED: const loginForm = document.querySelector('.login-form:not(#loggedInUserPanel)');
        const navbar = document.querySelector('.navbar');
        if (shoppingCart) shoppingCart.classList.remove('active');
        // REMOVED: if (loginForm) loginForm.classList.remove('active');
        if (navbar) navbar.classList.remove('active');
    }
}

let shoppingCart = document.querySelector('.shopping-cart');
const cartBtn = document.querySelector('#cart-btn');

if (cartBtn) {
    cartBtn.onclick = () => {
        if (shoppingCart) shoppingCart.classList.toggle('active');
        // Close other elements
        const searchForm = document.querySelector('.search-form');
        // REMOVED: const loginForm = document.querySelector('.login-form:not(#loggedInUserPanel)');
        const navbar = document.querySelector('.navbar');
        if (searchForm) searchForm.classList.remove('active');
        // REMOVED: if (loginForm) loginForm.classList.remove('active');
        if (navbar) navbar.classList.remove('active');
    }
}


// *********************************************************************
 const cartIcon = document.querySelector('#cart-btn'); // Assuming this is your main cart icon in the header

    document.querySelectorAll('.add-to-cart-btn').forEach(button => {
        button.addEventListener('click', function(event) {
            event.preventDefault(); // Prevent default button behavior (e.g., page refresh)

            const productBox = this.closest('.box');
            const productImage = productBox.querySelector('.img img');

            if (productImage && cartIcon) {
                // Create a clone of the product image
                const flyingImg = productImage.cloneNode();
                flyingImg.classList.add('flying-product-img'); // Add a class for styling

                // Get positions
                const startRect = productImage.getBoundingClientRect();
                const endRect = cartIcon.getBoundingClientRect();

                // Set initial position of the cloned image
                flyingImg.style.position = 'fixed';
                flyingImg.style.zIndex = '9999'; // Ensure it's on top
                flyingImg.style.top = startRect.top + 'px';
                flyingImg.style.left = startRect.left + 'px';
                flyingImg.style.width = startRect.width + 'px';
                flyingImg.style.height = startRect.height + 'px';
                flyingImg.style.borderRadius = '1rem'; // Match product card styling
                flyingImg.style.objectFit = 'cover';
                flyingImg.style.transition = 'none'; // Temporarily disable transitions

                document.body.appendChild(flyingImg);

                // Force reflow to ensure initial styles are applied before transition
                flyingImg.offsetHeight;

                // Animate to cart icon
                flyingImg.style.transition = 'all 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55)'; // Smooth and bouncy transition
                flyingImg.style.top = endRect.top + (endRect.height / 2) - 20 + 'px'; // Adjust to center on cart icon
                flyingImg.style.left = endRect.left + (endRect.width / 2) - 20 + 'px'; // Adjust to center
                flyingImg.style.width = '40px'; // Shrink size
                flyingImg.style.height = '40px';
                flyingImg.style.opacity = '0'; // Fade out at the end

                // Remove the cloned image after animation
                flyingImg.addEventListener('transitionend', () => {
                    flyingImg.remove();
                    // Optional: You can add a subtle bounce/blink to the cart icon here
                    cartIcon.classList.add('bouncing-cart');
                    setTimeout(() => {
                        cartIcon.classList.remove('bouncing-cart');
                    }, 300);
                });
            }

            // Optional: You can also update the cart count visually here if you have one
            let currentCartCount = parseInt(document.getElementById('cart-count').textContent);
            document.getElementById('cart-count').textContent = currentCartCount + 1;
        });
    });
    // --- End Add to Cart Animation ---


        </script>


</body>
</html>
